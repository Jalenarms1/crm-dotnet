@page "/authentication/{action}"

@using Microsoft.AspNetCore.Components.WebAssembly.Authentication
@using Microsoft.AspNetCore.Components.Authorization;

@inject NavigationManager Navigation

<RemoteAuthenticatorView Action="@Action" />

@code {
    [Parameter]
    public string? Action {get;set;}
    protected override async Task OnParametersSetAsync(){
        Console.WriteLine(Navigation.Uri);
        var uri = Navigation.ToAbsoluteUri(Navigation.Uri);

        Console.WriteLine(uri);
        if (Action == RemoteAuthenticationActions.LogOutSucceeded) 
        {
            Navigation.NavigateTo("/login");
        }
    }
    
}
